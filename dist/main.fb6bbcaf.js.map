{"version":3,"sources":["js/main.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["cityInput","document","querySelector","form","getElementById","cityName","dateTime","degree","situation","description","weatherIcon","wind","humid","dew","pressure","visibility","current","Date","days","months","apiRequest","XMLHttpRequest","addEventListener","e","preventDefault","chosenCity","value","open","send","onreadystatechange","status","textContent","apiResponse","JSON","parse","response","degreeCelsius","main","temp","Math","round","name","year","getFullYear","toString","yearArr","split","splice","getHours","getMinutes","getDay","getDate","getMonth","join","weather","innerHTML","icon","feels_like","direction","deg","compass","speed","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"ACAA,ACAA,IDAI8D,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;EAC5B,ACCA,IDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;AFDF,ICCIjB,SAAS,GAAGE,YAAY,EAAxB;ADAJ,ECCG,ACADc,EFDI9E,KECG,CAACgF,GFDK,GECb,AFDgB/E,GECC,KFDO,CAACC,MECI,OFDb,CAAuB,QAAvB,CAAlB;AACA,IECI2E,AFDE1E,IECE,AFDE,CECD8E,EFDIhF,IECT,IFDiB,CAACG,cAAT,CAAwB,aAAxB,CAAb,EAEA;ECAE,ACAC,CAFD,MDEO0D,SAAP;AACD,ADAD,IAAMzD,QAAQ,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;AACA,EEDE4E,EFCIxE,KEDG,CAAC4E,EFCI,EEDZ,CFCejF,EEDA4E,IAAI,CAACK,CFCG,CAAChF,EEDT,CAAU4C,KAAV,CAAgB,GAAhB,CFCA,CEDqB,AFCE,CEDvB,IAA0B,GAA1B,GAAgC7B,CFChC,CAAjB,EEDqD,CAACkE,GAAL,EAA/C;ADEF,ADAA,EEDEN,EFCItE,EEDA,CAAC6E,EDCEpB,CDAG,GAAG/D,IEDb,CAAgBoF,GDClB,ADAuB,CAACnF,ECAA,MCDtB,CAA6B4E,IFChB,CAAuB,EEDpC,EAAsCD,IAAI,CAACS,AFC9B,CAAf,UEDE;AACD,AFCD,ECAE,EDAI9E,SAAS,GAAGP,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,ECAE,EDAIO,ECAA,SDAW,GAAGR,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAApB;AEAA,AFCA,ICAI,ACDAqF,AFCE7E,MCAI,IAAIuD,ACDA,CFCG,EEDA,CFCGhE,CCAV,EAAN,ACDJ,KFC4B,CAACC,aAAT,CAAuB,eAAvB,CAApB;AACA,ECAG,CAFD,CAEE,ADAES,IAAI,GCACuD,ADAEjE,GCAT,EAAY,GDAK,CAACC,aAAT,CAAuB,OAAvB,CAAb;AEDA,AFEA,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","file":"main.fb6bbcaf.js","sourceRoot":"..\\src","sourcesContent":["import \"./../scss/main.scss\";\r\n\r\n//input variables\r\nconst cityInput = document.querySelector(\".input\");\r\nconst form = document.getElementById(\"search-form\");\r\n\r\n//details variables\r\nconst cityName = document.querySelector(\".city-name\");\r\nconst dateTime = document.querySelector(\".date-time\");\r\nconst degree = document.querySelector(\".degree\");\r\nconst situation = document.querySelector('.situation');\r\nconst description = document.querySelector(\".description\");\r\nconst weatherIcon = document.querySelector(\".weather-icon\");\r\nconst wind = document.querySelector(\".wind\");\r\nconst humid = document.querySelector(\".humid\");\r\nconst dew = document.querySelector(\".dew\");\r\nconst pressure = document.querySelector(\".pressure\");\r\nconst visibility = document.querySelector(\".visibility\");\r\n\r\nlet current = new Date();\r\n\r\nconst days = {\r\n    1: \"Monday\",\r\n    2: \"Tuesday\",\r\n    3: \"Wednesday\",\r\n    4: \"Thursday\",\r\n    5: \"Friday\",\r\n    6: \"Saturday\",\r\n    7: \"Sunday\"\r\n}\r\n\r\nconst months = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\"\r\n]\r\n\r\n\r\n//add the http request for requesting the api\r\nlet apiRequest = new XMLHttpRequest();\r\n\r\n\r\n\r\n//add event listener when submitting the form\r\nform.addEventListener('submit', (e) => {\r\n    //prevent default for refreshing the page\r\n    e.preventDefault();\r\n\r\n    //store the user input\r\n    const chosenCity = cityInput.value;\r\n\r\n    //send a request to the open weather api\r\n\r\n    //1 open and get the api\r\n    apiRequest.open('GET', 'https://api.openweathermap.org/data/2.5/weather?q='+ chosenCity + '&appid=5d27d5f754c4d9fb46a79a45598f8f18&mdoe=json&units=metric')\r\n\r\n    //2 send the request\r\n    apiRequest.send();\r\n\r\n})\r\n\r\n\r\n//this function is called everytime the ready state changes\r\n//ready state changes from 0 to 4\r\n//4 means object is populate by the api\r\n\r\napiRequest.onreadystatechange = () => {\r\n\r\n    //base case error if city does not exist\r\n    if (apiRequest.status === 404) {\r\n        cityName.textContent = \"City not found\"\r\n    }\r\n\r\n    //variable containing the json object of the result of the api\r\n\r\n    const apiResponse = JSON.parse(apiRequest.response);\r\n\r\n    //set the results\r\n\r\n    //set the degree\r\n    let degreeCelsius = apiResponse.main.temp;\r\n    degree.textContent = Math.round(degreeCelsius) + '°';\r\n\r\n    //set city name\r\n    cityName.textContent = apiResponse.name;\r\n\r\n    //set date time\r\n    let year = current.getFullYear().toString();\r\n    let yearArr = year.split(\"\");\r\n    yearArr.splice(0,2);\r\n\r\n    dateTime.textContent = `${current.getHours()}:${current.getMinutes()} - ${days[current.getDay()]}, ${current.getDate()} ${months[current.getMonth()]} '${yearArr.join(\"\")}`;\r\n\r\n    //set situation\r\n    situation.textContent = apiResponse.weather[0].main;\r\n\r\n    //set icon here\r\n    weatherIcon.innerHTML = `<img src=\"http://openweathermap.org/img/wn/${apiResponse.weather[0].icon}.png\">`\r\n\r\n    //set description\r\n    description.textContent = `Feels like ${Math.round(apiResponse.main.feels_like)}°C. ${apiResponse.weather[0].description}`\r\n\r\n    //set wind\r\n    let direction = apiResponse.wind.deg;\r\n    let compass = () => {\r\n        if (direction >= 0 && direction <=22) {\r\n            return \"N\";\r\n        }\r\n    }\r\n    wind.textContent = `${apiResponse.wind.speed} m/s ${compass()} ${direction}`\r\n\r\n}","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}